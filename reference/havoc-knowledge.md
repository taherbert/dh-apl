# Havoc Demon Hunter - Spec Knowledge

> Auto-generated by `npm run spec-knowledge`. Do not edit manually.

## Resource System

- **Primary:** fury (cap: 100)

### fury

- Cap: 100 (base: 100)
- **Generators:**
  - demons_bite 20
  - immolation_aura 2/tick over 6s
  - felblade 40 CD: 15s
  - demon_blades 12 (passive)
- **Consumers:**
  - chaos_strike cost: 40
  - blade_dance cost: 35
  - eye_beam cost: 30

## Core Abilities

| Ability          | Spell ID | Key Properties         |
| ---------------- | -------- | ---------------------- |
| chaos_strike     | 162794   | Chaos, 40% refund      |
| annihilation     | 201427   | -                      |
| blade_dance      | 188499   | Physical, 8T AoE       |
| death_sweep      | 210152   | -                      |
| eye_beam         | 198013   | Chaos, 8T AoE, channel |
| fel_rush         | 195072   | Chaos                  |
| fel_rush_damage  | 192611   | -                      |
| metamorphosis    | 187827   | 24s, +20% amp          |
| immolation_aura  | 258920   | Fire                   |
| throw_glaive     | 185123   | Physical               |
| vengeful_retreat | 198793   | -                      |
| demons_bite      | 162243   | Physical, gen 20 fury  |
| demon_blades     | 203555   | -                      |
| essence_break    | 258860   | Chaos                  |
| glaive_tempest   | 342817   | -                      |
| the_hunt         | 370965   | -                      |
| felblade         | 232893   | -                      |

## Hero Trees

### Aldrachi Reaver (`hero_tree.aldrachi_reaver`)

- APL branch: `ar`
- Damage school: Physical
- Key buffs: `rending_strike`, `glaive_flurry`, `reavers_mark`, `art_of_the_glaive`, `thrill_of_the_fight`
- Choice locks: 94896=0, 94910=0, 94911=1
- **Cycle:** AR Cycle - Rending Strike -> empowered attack -> Glaive Flurry
  - States: rending_strike -> empowered_attack -> glaive_flurry
  - Uptime targets: rending_strike: 40%, glaive_flurry: 30%, reavers_mark: 50%

### Fel-Scarred (`hero_tree.fel_scarred`)

- APL branch: `fs`
- Damage school: Fire
- Key buffs: `demonsurge`, `monster_rising`, `demonic_intensity`, `burning_blades`, `enduring_torment`
- Choice locks: 94899=0, 94913=0
- **Cycle:** Demonsurge Cycle - Violent Transformation -> Demonsurge empowered abilities
  - States: building -> empowered

## Apex Talents

- Rank range: 0-3
- SimC syntax: `apex.N` (e.g., `apex.1`, `apex.3`)
- Do NOT use `talent.apex_name` - always use `apex.N`

## Talent Clusters

- **essence_break:** Core: Essence Break | Extended: Know Your Enemy, Cycle of Hatred
- **inertia:** Core: Inertia | Extended: Unbound Chaos
- **burn:** Core: Burning Wound | Extended: A Fire Inside, Ragefire, Isolated Prey, Growing Inferno
- **hunt:** Core: The Hunt
- **glaive:** Core: Glaive Tempest | Extended: Screaming Brutality, Furious Throws
- **collective_anguish:** Core: Collective Anguish
- **chaotic_transform:** Core: Chaotic Transformation

## Burst Windows

- **metamorphosis**, CD: 240s, dur: 24s, +20% all, sync: chaos_strike, blade_dance, eye_beam
  - Resource bonus: CS becomes Annihilation, BD becomes Death Sweep
- **essence_break_debuff**, CD: 25s, dur: 4s, +80% Chaos, sync: chaos_strike, blade_dance

## APL Structure

- File: `apls/havoc/havoc.simc`
- Action lists: 8

### Action Lists

- **precombat:** 3 actions
- **default:** 19 actions; delegates: call_action_list -> cooldown, run_action_list -> fel_scarred, run_action_list -> aldrachi_reaver
- **cooldown:** 3 actions
- **fel_scarred:** 23 actions; delegates: run_action_list -> fs_meta
- **fs_meta:** 21 actions
- **aldrachi_reaver:** 26 actions; delegates: call_action_list -> ar_glaive_cycle, run_action_list -> ar_meta
- **ar_glaive_cycle:** 6 actions
- **ar_meta:** 18 actions; delegates: call_action_list -> ar_glaive_cycle

### APL Variables

- **tab_target_burning_wound** (precombat): `1`
- **use_blade_dance** (default): `active_enemies>=3-talent.trail_of_ruin|talent.first_blood`
- **pool_glaive_tempest** (default): `talent.glaive_tempest&active_enemies>=3`
- **fury_gen_per_sec** (default): `2%(attack_haste*2.6)*0.81*((talent.demonsurge&buff.metamorphosis.up)*3+9.5)+b...`
- **inertia_ready** (default): `talent.inertia&buff.inertia_trigger.up&(!buff.inertia.up|buff.inertia_trigger...`
- **inertia_consumer_soon** (default): `buff.inertia_trigger.remains<=0.5|cooldown.the_hunt.remains<=0.5|cooldown.eye...`
- **inertia_consumer_soon_rush** (default): `buff.inertia_trigger.remains<=gcd.max|cooldown.the_hunt.remains<=gcd.max+0.5|...`
- **eb_aligned** (default): `!talent.inertia&(!talent.initiative|cooldown.vengeful_retreat.remains>=3|buff...`
- **bd_not_blocking** (default): `cooldown.blade_dance.remains>=gcd.max|!variable.use_blade_dance`
- **cs_machine** (default): `talent.relentless_onslaught&talent.chaos_theory`
- **use_filler** (default): `cooldown.felblade.remains>=gcd.max&cooldown.immolation_aura.remains>=gcd.max&...`
- **rg_inc** (aldrachi_reaver): `buff.rending_strike.down&buff.glaive_flurry.up&cooldown.blade_dance.up&gcd.re...`

### Delegation Pattern

- `call_action_list -> cooldown`: `(unconditional)`
- `run_action_list -> fel_scarred`: `hero_tree.felscarred`
- `run_action_list -> aldrachi_reaver`: `(unconditional)`

## Roster Overview

- Templates: 40
- Hero trees: Aldrachi Reaver, Fel-Scarred
- Apex range: 0-3
- Per rank: Apex 0: 16, Apex 1: 11, Apex 2: 7, Apex 3: 6
- Variation axes: hero tree, apex rank, talent variant (require/exclude)

## Design Constraints

- **Shared APL:** All builds share one APL file. Hero tree routing via `run_action_list` with `hero_tree.<name>` conditions.
- **Gating pattern:** When a change helps some builds but hurts others, gate with the discriminating SimC expression (hero tree, apex rank, talent presence).
- **Significance:** Quick fidelity (te=0.5) noise floor: +/-0.5%. Standard (te=0.25): +/-0.25%. Confirm (te=0.1): +/-0.1%.
- **APL comments:** Plain ASCII only, no consecutive comment lines, no em dashes or decorative characters.
- **Hero branches:** `ar` (Aldrachi Reaver), `fs` (Fel-Scarred)
