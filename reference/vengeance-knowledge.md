# Vengeance Demon Hunter - Spec Knowledge

> Auto-generated by `npm run spec-knowledge`. Do not edit manually.

## Resource System
- **Primary:** fury (cap: 100)
- **Secondary:** soul_fragments (cap: 6)

### fury
- Cap: 120 (base: 100)
- **Generators:**
  - fracture 25 (40 in Meta) 2 charges recharge: 4.5s
  - immolation_aura 3/tick over 6s 2 charges recharge: 30s
  - felblade 15 CD: 15s
- **Consumers:**
  - spirit_bomb cost: 40
  - soul_cleave cost: 35
  - fel_devastation cost: 50

### soul_fragments
- Cap: 6
- **Generators:**
  - fracture 2 (3 in Meta) 2 charges recharge: 4.5s
  - soul_carver 3 CD: 30s
  - sigil_of_spite 3 CD: 60s
  - fallout proc: 0.6
- **Consumers:**
  - spirit_bomb consumes up to 5 (+20% damage per fragment)
  - soul_cleave consumes up to 2 (healing + Soul Furnace stacks)

## Core Abilities

| Ability | Spell ID | Key Properties |
|---------|----------|----------------|
| fracture | 263642 | Physical, 1T AoE |
| spirit_bomb | 247454 | Fire, 5T AoE, consumes up_to_5 frags |
| soul_cleave | 228477 | Physical, 5T AoE, consumes up_to_2 frags |
| immolation_aura | 258920 | Fire, 2 charges |
| sigil_of_flame | 204596 | Fire, 8T AoE |
| fiery_brand | 204021 | Fire, 1T AoE, 10s, +30% amp |
| soul_carver | 207407 | Fire, 1T AoE |
| fel_devastation | 212084 | Fire, 5T AoE, off-GCD |
| sigil_of_spite | 390163 | Chromatic, 8T AoE |
| metamorphosis | 187827 | - |
| reavers_glaive | 442294 | Physical, 1T AoE |
| felblade | 232893 | Physical, 1T AoE |
| throw_glaive | 185123 | Physical, 1T AoE |

## Hero Trees

### Aldrachi Reaver (`hero_tree.aldrachi_reaver`)
- APL branch: `ar`
- Damage school: Physical
- Key buffs: `rending_strike`, `glaive_flurry`, `reavers_mark`, `art_of_the_glaive`, `thrill_of_the_fight`
- Choice locks: 94896=0, 94910=0, 94911=1
- **Cycle:** AR Cycle - Rending Strike → empowered Fracture → empowered Soul Cleave → Glaive Flurry
  - States: rending_strike -> empowered_fracture -> empowered_soul_cleave
  - Uptime targets: rending_strike: 40%, glaive_flurry: 30%, reavers_mark: 50%

### Annihilator (`hero_tree.annihilator`)
- APL branch: `anni`
- Damage school: Shadowflame
- Key buffs: `voidfall_building`, `voidfall_spending`, `catastrophe`
- Choice locks: 109448=1, 109450=1
- **Cycle:** Voidfall Cycle - Build Voidfall stacks → spend at 3 for fel meteors
  - States: building -> spending

## Apex Talents
- Rank range: 0-4
- SimC syntax: `apex.N` (e.g., `apex.1`, `apex.3`)
- Do NOT use `talent.apex_name` - always use `apex.N`

## Talent Clusters
- **brand:** Core: Burning Alive | Extended: Charred Flesh, Down in Flames
- **binding:** Core: Cycle of Binding
- **vuln:** Core: Vulnerability | Extended: Soulcrush, Focused Cleave
- **feldev:** Core: Stoke the Flames | Extended: Vengeful Beast, Darkglare Boon
- **sc:** Core: Soul Carver

## Burst Windows
- **fiery_brand**, CD: 60s, dur: 10s, +30% Fire, sync: soul_carver, fel_devastation, (requires fiery_demise)
- **metamorphosis**, CD: 180s, dur: 15s, +20% all, sync: fracture, spirit_bomb
  - Resource bonus: +1 soul_fragments from fracture

## APL Structure
- File: `apls/vengeance/vengeance.simc`
- Action lists: 15

### Action Lists
- **precombat:** 5 actions
- **default:** 19 actions; delegates: run_action_list -> ar, run_action_list -> anni
- **externals:** 1 actions
- **trinkets:** 2 actions
- **ar:** 10 actions; delegates: call_action_list -> trinkets, call_action_list -> externals, call_action_list -> ar_glaive_cycle, call_action_list -> ar_cooldowns, call_action_list -> ar_fillers
- **ar_fillers:** 12 actions
- **ar_glaive_cycle:** 6 actions
- **ar_cooldowns:** 6 actions
- **anni:** 16 actions; delegates: call_action_list -> trinkets, call_action_list -> externals, call_action_list -> anni_voidfall, call_action_list -> anni_meta_entry, call_action_list -> ur_fishing, call_action_list -> anni_meta, call_action_list -> anni_cooldowns, call_action_list -> anni_fillers
- **anni_voidfall:** 8 actions
- **anni_meta_entry:** 5 actions
- **ur_fishing:** 6 actions
- **anni_meta:** 9 actions
- **anni_cooldowns:** 5 actions
- **anni_fillers:** 11 actions

### APL Variables
- **trinket_1_buffs** (precombat): `trinket.1.has_use_buff|(trinket.1.has_buff.agility|trinket.1.has_buff.mastery...`
- **trinket_2_buffs** (precombat): `trinket.2.has_use_buff|(trinket.2.has_buff.agility|trinket.2.has_buff.mastery...`
- **single_target** (default): `spell_targets.spirit_bomb=1`
- **aoe** (default): `spell_targets.spirit_bomb>=3`
- **execute** (default): `fight_remains<20`
- **is_dungeon** (default): `fight_style.dungeonroute|fight_style.dungeonslice`
- **hold_for_next_pull** (default): `variable.is_dungeon&raid_event.adds.exists&raid_event.pull.remains<12&(raid_e...`
- **cd_ready** (default): `variable.execute|!variable.is_dungeon|(variable.pull_ttd>12&!variable.hold_fo...`
- **meta_ready** (default): `variable.execute|!variable.is_dungeon|(variable.pull_ttd>(15-5*hero_tree.anni...`
- **fiery_demise_active** (default): `talent.fiery_demise&dot.fiery_brand.ticking`
- **fire_cd_soon** (default): `cooldown.soul_carver.remains>?cooldown.fel_devastation.remains>?cooldown.sigi...`
- **fragment_target** (default): `variable.fiery_demise_active*3+!variable.fiery_demise_active*(5-buff.metamorp...`
- **fracture_cap_soon** (default): `cooldown.fracture.full_recharge_time<gcd.max&soul_fragments.total<6`
- **meta_entry** (anni): `!buff.metamorphosis.up&!buff.voidfall_spending.up&buff.voidfall_building.stac...`
- **burst_ready** (anni): `variable.meta_entry&cooldown.metamorphosis.ready&(cooldown.spirit_bomb.remain...`
- **ur_fishing** (anni): `talent.untethered_rage&buff.metamorphosis.up&buff.metamorphosis.remains<6&!bu...`
- **hold_for_meta** (anni): `!variable.execute&cooldown.metamorphosis.remains<=20&!buff.metamorphosis.up&c...`

### Delegation Pattern
- `run_action_list -> ar`: `hero_tree.aldrachi_reaver`
- `run_action_list -> anni`: `hero_tree.annihilator`

## Roster Overview
- Templates: 17
- Hero trees: Aldrachi Reaver, Annihilator
- Apex range: 0-4
- Per rank: Apex 0: 4, Apex 1: 4, Apex 2: 2, Apex 3: 3, Apex 4: 4
- Variation axes: hero tree, apex rank

## Design Constraints
- **Shared APL:** All builds share one APL file. Hero tree routing via `run_action_list` with `hero_tree.<name>` conditions.
- **Gating pattern:** When a change helps some builds but hurts others, gate with the discriminating SimC expression (hero tree, apex rank, talent presence).
- **Significance:** Quick fidelity (te=0.5) noise floor: +/-0.5%. Standard (te=0.25): +/-0.25%. Confirm (te=0.1): +/-0.1%.
- **APL comments:** Plain ASCII only, no consecutive comment lines, no em dashes or decorative characters.
- **Hero branches:** `ar` (Aldrachi Reaver), `anni` (Annihilator)
