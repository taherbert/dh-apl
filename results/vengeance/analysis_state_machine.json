{
  "focus": "state_machine",
  "analyzedAt": "2026-02-09",
  "aplFile": "apls/vengeance/vengeance.simc",

  "voidfall_machine": {
    "summary": "The Voidfall state machine has two phases: building (Fracture 35% proc -> stacks to 3 -> auto-transition) and spending (Soul Cleave decrements 1 stack per cast, SBomb/SC at 3 stacks triggers Meteoric Fall consuming all 3 at once). The APL correctly handles all reachable states.",

    "cpp_mechanics": {
      "building_phase": {
        "trigger": "Fracture cast -> voidfall_building_trigger_t rolls 35% (effectN(3).percent())",
        "stack_gain": "1 stack per successful proc (effectN(1).base_value())",
        "max_stacks": 3,
        "auto_transition": "expire_at_max_stack = true; on expiry, triggers voidfall_spending with same stack count",
        "blocked_during_spending": "if buff.voidfall_spending->up(), building trigger returns early -- cannot gain building stacks while spending",
        "average_fractures_to_fill": "8.57 casts (3 / 0.35)",
        "average_cycle_time_base": "25.7s at 2 charges / 4.5s recharge (4.5s * 8.57 / 1.5 charge throughput = ~25.7s)",
        "average_cycle_time_with_haste_20pct": "21.4s (4.5/1.2 = 3.75s recharge -> 3.75 * 8.57 / 1.5 = ~21.4s)"
      },
      "spending_phase": {
        "soul_cleave_decrement": "voidfall_spending_trigger_t decrements 1 stack, fires 1 meteor (or World Killer if stack reaches 0 and WK talented)",
        "spirit_bomb_meteoric_fall": "spirit_bomb_t inherits meteoric_fall_trigger_t (NOT voidfall_spending_trigger_t). At max spending stacks (3), Meteoric Fall expires ALL stacks, fires (stacks-1) normal meteors + 1 World Killer (if talented), or all normal meteors otherwise",
        "key_distinction": "SBomb at spending=3 fires ALL 3 meteors at once (Meteoric Fall). SBomb at spending<3 fires ZERO meteors (Meteoric Fall only triggers at max stacks). Soul Cleave fires 1 meteor per cast at any spending stack count.",
        "soul_cleave_at_3_vs_sbomb_at_3": "Soul Cleave at 3 stacks: decrements to 2, fires 1 meteor. Does NOT trigger Meteoric Fall because SC is voidfall_spending_trigger not meteoric_fall_trigger. SBomb at 3 stacks: consumes ALL 3 via Meteoric Fall, fires 3 meteors."
      },
      "mass_acceleration": {
        "trigger": "Metamorphosis cast -> mass_acceleration_trigger_t",
        "effect": "Grants 3 building stacks (effectN(1).base_value()), resets Spirit Bomb cooldown",
        "blocked_during_spending": "Building trigger returns early if spending is up, so Mass Acceleration building grant is wasted during spending. SBomb CD reset still works.",
        "meta_hold_rationale": "At building=2, one more Fracture proc (35% chance) completes the natural cycle -> spending phase. Then Meta fires Mass Acceleration -> instant second spending=3 phase. Double burst."
      }
    },

    "apl_line_trace": {
      "line_141_brand_at_peak": {
        "line": "fiery_brand,if=talent.fiery_demise&!dot.fiery_brand.ticking&(buff.voidfall_building.stack=2|buff.voidfall_spending.stack=3)",
        "correctness": "CORRECT. Brands at the two highest-value moments: (1) building=2 means next Fracture proc triggers transition + spending phase begins, so Brand covers the entire spending burst; (2) spending=3 means SBomb will consume all 3 stacks for max meteor damage under FD fire amp.",
        "edge_case": "If Brand is already ticking (from earlier cycle), this line is skipped. The anni main list has a fallback Brand on line 121: fiery_brand,if=talent.fiery_demise&!dot.fiery_brand.ticking -- catches cycles where the Voidfall sub-list Brand condition is not met.",
        "note": "Building=2 Brand timing assumes the next Fracture will proc (35% chance). If it takes 2-3 more Fractures, Brand may expire before spending begins. Average: 1/0.35 = 2.86 Fractures = ~2 GCDs at charge throughput. At 1.25s GCD, that is ~2.5s. Brand lasts 12s base, so there is ample margin."
      },
      "line_143_feldev_peak_spending": {
        "line": "fel_devastation,if=buff.voidfall_spending.stack=3&soul_fragments<variable.spb_threshold",
        "correctness": "CORRECT. FelDev at spending=3 when fragment-starved serves two purposes: (1) Meteoric Rise generates 3 fragments over channel duration, enabling subsequent SBomb; (2) FelDev itself deals good damage under any active FD window. The fragment generation allows SBomb after the channel.",
        "timing": "FelDev is a 2s channel. After channel completes (with Meteoric Rise), player has 3 new fragments. Then SBomb fires, consuming 3-5 frags and triggering Meteoric Fall (all 3 spending stacks consumed). The spending buff persists during the channel because FelDev is NOT a voidfall_spending_trigger.",
        "verified": "FelDev does NOT consume spending stacks (it is not voidfall_spending_trigger_t). The spending stacks persist through the channel for the subsequent SBomb."
      },
      "line_144_sbomb_peak_spending": {
        "line": "spirit_bomb,if=buff.voidfall_spending.stack=3&soul_fragments>=variable.spb_threshold",
        "correctness": "CORRECT. This is the highest-value GCD in the entire Anni rotation. SBomb at spending=3 triggers Meteoric Fall: all 3 stacks consumed, 3 meteors fired (2 normal + 1 World Killer if talented). Combined with 5-frag SBomb base damage, this is a massive burst GCD.",
        "interaction_with_spb_threshold": "Uses variable.spb_threshold (5 base, 4 during Meta). During Meta, SBomb at 4 frags fires faster. This is correct -- the Meta threshold reduction was validated in prior testing."
      },
      "line_145_sc_sub_peak": {
        "line": "soul_cleave,if=buff.voidfall_spending.up&buff.voidfall_spending.stack<3",
        "correctness": "CORRECT. At spending stacks 1 or 2, Soul Cleave is the correct spender because: (1) SC consumes exactly 1 stack and fires 1 meteor; (2) SBomb at <3 spending stacks would NOT trigger Meteoric Fall (it only triggers at max stacks) so SBomb would just be normal SBomb damage without any meteor benefit.",
        "edge_case_sbomb_at_sub3": "SBomb at spending=2 or spending=1 would waste the spending window -- SBomb inherits meteoric_fall_trigger_t which checks at_max_stacks(). If not at max, no meteor fires. Soul Cleave is strictly better here because it actually consumes a stack and fires a meteor."
      },
      "line_147_fracture_building_2": {
        "line": "fracture,if=buff.voidfall_building.stack=2&fury>=70",
        "correctness": "CORRECT. At building=2, the next Fracture proc (35%) pushes to 3 -> auto-transitions to spending=3. Fury pooling to 70 ensures SBomb is castable immediately (SBomb costs 40 fury, Fracture generates 25-40 fury depending on Meta). The 70 threshold provides a buffer: even if Fracture proc fires and we enter spending=3, we have fury for immediate SBomb.",
        "fury_math": "Without Meta: Fracture generates 25 fury. If we had 70 before Fracture, we have 95 after. SBomb costs 40 -> 55 remaining. With Meta: Fracture generates 40. If we had 70 before, we have 110. SBomb costs 40 -> 70 remaining. The 70 threshold is well-calibrated for both cases."
      }
    },

    "state_coverage_analysis": {
      "building_0": "No special handling in anni_voidfall. Falls through to main anni list. Fracture is cast normally (lines 128-130). Building procs accumulate naturally. CORRECT.",
      "building_1": "Same as building_0. No special handling needed. CORRECT.",
      "building_2": "Handled by line 147 (fury-pooled Fracture) and line 141 (FD Brand). CORRECT.",
      "spending_3": "Handled by lines 141 (Brand), 143 (FelDev if frag-starved), 144 (SBomb if frags sufficient). CORRECT.",
      "spending_2": "Handled by line 145 (Soul Cleave). CORRECT.",
      "spending_1": "Handled by line 145 (Soul Cleave). CORRECT.",
      "spending_0": "Not a reachable state in the buff system -- spending decrements to 0 cause the buff to expire. After spending=1 Soul Cleave, buff expires and we return to building=0. CORRECT.",
      "no_building_no_spending": "No Voidfall buffs active. Normal Anni rotation. Falls through anni_voidfall (no lines fire) to main anni list. CORRECT.",
      "verdict": "ALL states covered. No unreachable states. No dead branches within the Voidfall sub-list."
    },

    "meta_hold_analysis": {
      "current_condition": "metamorphosis,if=(!buff.metamorphosis.up|buff.untethered_rage.up)&!buff.voidfall_spending.up&buff.voidfall_building.stack<2",
      "logic": "Hold Meta when building stacks >= 2. Use immediately when building < 2 and not currently spending.",
      "with_vengeful_beast": {
        "meta_duration": "20s (15 base + 5 from VB)",
        "double_burst_value": "High. 20s Meta window is long enough to complete natural spending (3-4 GCDs) + Mass Acceleration second spending (3-4 GCDs) with room for builders between.",
        "hold_cost_at_building_2": "Average 2.86 Fractures (1/0.35) to proc from building=2 -> 3. At ~1.25s GCD, ~3.6s average wait. With 20s Meta, this is 18% of Meta duration."
      },
      "without_vengeful_beast": {
        "meta_duration": "15s (base)",
        "double_burst_value": "Still high but tighter. 15s Meta must fit: natural spending completion (~3-4 GCDs = 3.75-5s) + Mass Acceleration second spending (~3-4 GCDs = 3.75-5s) + builders between (~2-3 GCDs). Total: ~10-13s. Leaves 2-5s margin.",
        "hold_cost_at_building_2": "Same 3.6s average wait. With 15s Meta, this is 24% of Meta duration."
      },
      "verdict": "The building<2 threshold is correct for BOTH VB and non-VB builds. The double burst value (6 meteors from 2 spending=3 phases) far exceeds the ~3.6s hold cost."
    }
  },

  "ar_empowered_cycle": {
    "summary": "The AR empowered cycle is a fixed 3-step rotation: Rending Strike (auto-proc from AotG accumulation) -> empowered Fracture (applies Reaver's Mark) -> empowered Soul Cleave (triggers Glaive Flurry slashes). The APL handles ST vs AoE ordering correctly.",

    "cpp_mechanics": {
      "cycle_trigger": "Art of the Glaive accumulates from consuming 20 Soul Fragments or casting Sigil of Spite. At threshold, next Throw Glaive becomes Reaver's Glaive.",
      "rending_strike": "Reaver's Glaive cast grants both rending_strike and glaive_flurry buffs. These are the empowerment markers.",
      "fracture_as_rending_strike": "Fracture is art_of_the_glaive_trigger_t<RENDING_STRIKE>. When buff.rending_strike is up, Fracture consumes it, applies Reaver's Mark.",
      "soul_cleave_as_glaive_flurry": "Soul Cleave is art_of_the_glaive_trigger_t<GLAIVE_FLURRY>. When buff.glaive_flurry is up, SC consumes it, triggers Fury of the Aldrachi slashes.",
      "bladecraft_detail": {
        "fracture_first_then_sc": "Fracture consumes rending_strike (first, 10% amp). SC consumes glaive_flurry (second, 20% amp). SC-as-second triggers 12 FotA slashes via Bladecraft. Fracture-as-first applies 1 RM stack.",
        "sc_first_then_fracture": "SC consumes glaive_flurry (first, 10% amp). Fracture consumes rending_strike (second, 20% amp). Fracture-as-second applies 2 RM stacks via Bladecraft. SC-as-first triggers only 3 FotA slashes.",
        "st_verdict": "Fracture-first correct for ST: 12 FotA slashes > 3 slashes. RM stack count difference (1 vs 2) is secondary.",
        "aoe_verdict": "SC-first correct at 3+: 2 RM stacks (14% sustained amp on all targets) outweigh 9 extra FotA slashes. FotA has reduced damage beyond 8 targets."
      }
    },

    "apl_line_trace": {
      "line_73_reavers_glaive": {
        "line": "reavers_glaive,if=buff.reavers_glaive.up&!buff.rending_strike.up&!buff.glaive_flurry.up",
        "correctness": "CORRECT. Guards prevent interrupting a cycle in progress."
      },
      "line_74_sc_first_aoe": {
        "line": "soul_cleave,if=buff.rending_strike.up&buff.glaive_flurry.up&active_enemies>=3",
        "correctness": "CORRECT. AoE: SC first for 2 RM stacks via Bladecraft on subsequent Fracture."
      },
      "line_75_fracture_first_st": {
        "line": "fracture,if=buff.rending_strike.up&buff.glaive_flurry.up",
        "correctness": "CORRECT. Falls through from line 74 when active_enemies < 3. Fracture first for 12 FotA slashes."
      },
      "line_76_sc_consumes_gf": {
        "line": "soul_cleave,if=buff.glaive_flurry.up&!buff.rending_strike.up",
        "correctness": "CORRECT. After Fracture consumed rending_strike (ST path), SC consumes glaive_flurry for 12 FotA slashes."
      },
      "line_77_fracture_consumes_rs": {
        "line": "fracture,if=buff.rending_strike.up&!buff.glaive_flurry.up",
        "correctness": "CORRECT. After SC consumed glaive_flurry (AoE path), Fracture consumes rending_strike for 2 RM stacks."
      }
    },

    "state_coverage_analysis": {
      "state_both_up_st": "Lines 75 -> 76. Fracture first, then SC. CORRECT.",
      "state_both_up_aoe": "Lines 74 -> 77. SC first, then Fracture. CORRECT.",
      "state_rs_only": "Line 77. Fracture consumes RS. CORRECT.",
      "state_gf_only": "Line 76. SC consumes GF. CORRECT.",
      "state_neither": "Line 73 (RG launch) or falls through if RG not ready. CORRECT.",
      "verdict": "ALL states covered correctly."
    },

    "brand_window_analysis": {
      "brand_duration": "12s base. Charred Flesh extends by 0.25s per ImmAura tick (6 ticks = 1.5s extension if ImmAura active). Effective duration: 12-13.5s.",
      "gcds_in_window": "At 20% haste: GCD = 1.25s. 12s / 1.25s = 9.6 GCDs. With Charred Flesh: 13.5s / 1.25 = 10.8 GCDs.",
      "current_order": "SBomb (Frailty setup) -> ImmAura (if CF) -> Soul Carver -> SoSpite -> FelDev -> ImmAura (if not CF). 2-5 GCDs consumed, remaining return to main AR rotation.",
      "root_theory_2_verdict": "ImmAura already precedes Soul Carver in the brand window when Charred Flesh is talented (line 102 before line 103). The theory is already satisfied."
    }
  },

  "variable_correctness": {
    "fiery_demise_active": {
      "definition": "talent.fiery_brand&talent.fiery_demise&dot.fiery_brand.ticking",
      "correctness": "CORRECT. All three conditions are necessary.",
      "note": "Evaluated every action cycle. No staleness issues."
    },
    "spb_threshold": {
      "definition": "Base 5, set to 4 during Meta",
      "correctness": "CORRECT. Validated at +0.035%. Coupling with Fracture charge management documented.",
      "coupling_warning": "Used by both SBomb threshold lines AND Fracture charge management. Changing this variable affects both."
    },
    "ur_fishing": {
      "definition": "talent.untethered_rage&buff.metamorphosis.up&buff.metamorphosis.remains<8&!buff.untethered_rage.up",
      "correctness": "CORRECT. 8s threshold gives ~6 GCDs of fishing attempts.",
      "proc_mechanics": "UR proc chance = souls_consumed * 0.0075 * pow(1.35, seething_anger_up). At 5 frags: base 3.75%, with SA: 5.06%."
    },
    "fallout_aoe": {
      "definition": "talent.fallout&active_enemies>=3",
      "correctness": "CORRECT. 60% proc rate per ImmAura initial burst target at 3+.",
      "note": "Only used for ar_aoe sub-list gate. Anni handles AoE through Voidfall meteor scaling."
    }
  },

  "dead_code": {
    "analysis": [
      {
        "location": "anni line 130: fracture,if=!buff.voidfall_spending.up",
        "status": "NOT dead code",
        "reasoning": "Covers normal building phase at stacks 0-1. Guards against Fracture during spending where SC/SBomb should be used."
      },
      {
        "location": "anni line 136: fracture (ungated)",
        "status": "Near-dead but legitimate safety net",
        "reasoning": "Fires during Voidfall spending when primary spenders are blocked (CD or fury). Less than 1% of GCDs.",
        "estimated_frequency": "Less than 1% of GCDs"
      },
      {
        "location": "ar line 65: immolation_aura,if=talent.fallout",
        "status": "Dead for non-Fallout builds (correct via gate)",
        "reasoning": "Talent gate correctly prevents execution. For Fallout builds at <3 targets, provides marginal fragment generation."
      },
      {
        "location": "ar_brand_window line 106: immolation_aura,if=!talent.charred_flesh",
        "status": "Low value but not dead",
        "reasoning": "For non-CF builds with FD, ImmAura fire damage benefits from 15% FD amp. Mutually exclusive with line 102."
      }
    ],
    "always_true_conditions": [],
    "always_false_conditions": [],
    "verdict": "No dead code detected. All conditions have reachable true states for at least one build template in the 69-build roster."
  },

  "theory_validation": {
    "theory_1_meta_hold_building_2": {
      "claim": "Anni Meta hold at building>=2 over-penalizes non-Vengeful Beast builds",
      "verdict": "REJECTED",
      "confidence": 0.9,
      "reasoning": "Double burst value (6 meteors from 2 spending=3 phases) is independent of Meta duration. Hold cost at building=2 is ~3.6s average. For non-VB 15s Meta: lost ~0.58 AP equivalent from reduced amp uptime. Gained ~3.0 AP from 3 extra meteors. Net gain ~2.4 AP strongly positive. Prior sim validated +0.105% across all Anni builds.",
      "prior_evidence": "Validated at +0.105% Anni mean, -2.92% worst at building<1 threshold"
    },
    "theory_2_ar_brand_aoe_reorder": {
      "claim": "AR brand window lacks AoE-aware priority reordering",
      "verdict": "ALREADY IMPLEMENTED",
      "confidence": 0.95,
      "reasoning": "ImmAura (line 102) already precedes Soul Carver (line 103) when Charred Flesh is talented."
    },
    "theory_3_anni_fd_sbomb_threshold": {
      "claim": "Anni lacks FD-aware SBomb threshold",
      "verdict": "REJECTED based on prior testing",
      "confidence": 0.85,
      "reasoning": "SBomb CD management must be preserved for spending=3 Meteoric Fall bursts (3 meteors), which outweigh FD-amped 3-frag SBombs. Voidfall sub-list Brand timing already aligns FD with highest-value SBomb casts.",
      "prior_evidence": "Exhaustively rejected per optimization-history.md"
    }
  },

  "theories": [
    {
      "title": "Voidfall state machine is fully correct with no dead branches",
      "reasoning": "Traced all 6 reachable states (building 0-2, spending 1-3) through the APL. Each state maps to exactly one action in anni_voidfall or falls through correctly to the main anni list. The spending phase correctly distinguishes between SC (decrement 1, fire 1 meteor) and SBomb (Meteoric Fall consumes all 3, fires 3 meteors). FelDev at spending=3 correctly generates frags via Meteoric Rise without consuming spending stacks. Building=2 fury pooling (fury>=70) ensures immediate SBomb on transition.",
      "category": "state_machine",
      "confidence": 0.95,
      "evidence": [
        "voidfall_building_buff_t has expire_at_max_stack=true, auto-transitions to spending",
        "Spirit Bomb inherits meteoric_fall_trigger_t (not voidfall_spending_trigger_t) -- fires all 3 meteors at max stacks",
        "Soul Cleave inherits voidfall_spending_trigger_t -- decrements 1 stack, fires 1 meteor",
        "FelDev is neither voidfall_spending nor meteoric_fall -- spending stacks persist through channel",
        "Building trigger blocked during spending (if buff.voidfall_spending->up() return)",
        "Mass Acceleration grants 3 building stacks + resets SBomb CD (confirmed in mass_acceleration_trigger_t)"
      ]
    },
    {
      "title": "AR empowered cycle handles all states with correct ST/AoE ordering",
      "reasoning": "The ar_empowered sub-list covers all 4 possible buff states: (both up, RS only, GF only, neither). ST ordering (Fracture-first) provides 12 FotA slashes via Bladecraft, while AoE ordering (SC-first at 3+) provides 2 RM stacks for sustained 14% amp. The Bladecraft mechanic in CPP confirms: SC-as-second triggers 12 FotA slashes (3 base + Bladecraft triples), Fracture-as-second applies 2 RM stacks.",
      "category": "state_machine",
      "confidence": 0.95,
      "evidence": [
        "art_of_the_glaive_t::execute() checks glaive_flurry->up() && !rending_strike->up() for Bladecraft 12-slash trigger",
        "Fracture inherits art_of_the_glaive_trigger_t<RENDING_STRIKE>",
        "Soul Cleave inherits art_of_the_glaive_trigger_t<GLAIVE_FLURRY>",
        "Reaver's Mark applies second_ability_amount (1+effectN(2)) stacks when cast as second ability",
        "APL line 74 (SC first at 3+) and line 75 (Fracture first at <3) correctly implement the ordering"
      ]
    },
    {
      "title": "Meta hold at building<2 is correct for both VB and non-VB builds",
      "reasoning": "The double burst value (3 extra Voidfall meteors from Mass Acceleration second spending phase) is independent of Meta duration. At building=2, average wait is 2.86 Fractures (~3.6s). For non-VB 15s Meta: lost 3.6s * 20% amp on ~2.9 GCDs = ~0.58 AP equivalent. Gained 3 extra meteors at ~1.0 AP each = ~3.0 AP. Net gain ~2.4 AP (strongly positive). Prior sim validated +0.105% across all Anni builds.",
      "category": "cooldown_alignment",
      "confidence": 0.9,
      "evidence": [
        "Mass Acceleration grants 3 building stacks (instant spending phase) + SBomb CD reset",
        "Meteoric Fall fires all 3 meteors at once when SBomb cast at spending=3",
        "Prior optimization: +0.105% Anni mean for building<2 hold",
        "Hold at building<1 was -2.92% worst (excessive wait time), confirming threshold=2 is the sweet spot"
      ]
    },
    {
      "title": "All four APL variables are correct and well-calibrated",
      "reasoning": "fiery_demise_active correctly requires all 3 conditions. spb_threshold correctly differentiates base (5) from Meta (4), validated by +0.035% sim. ur_fishing correctly identifies Meta expiry window. fallout_aoe correctly gates AoE sub-list. No variable has stale evaluation.",
      "category": "variable_correctness",
      "confidence": 0.95,
      "evidence": [
        "spb_threshold=4 during Meta validated at +0.035%",
        "ur_fishing value is from spb_threshold=4, not UR proc itself (3.75% base proc rate)",
        "fiery_demise_active gates 6 APL lines across AR and Anni, all correctly checking FD window",
        "fallout_aoe gates ar_aoe sub-list only for AR"
      ]
    },
    {
      "title": "No dead code detected in current APL",
      "reasoning": "Every action line fires for at least one build template in the 69-build roster. The ungated Fracture on Anni line 136 is very low frequency but serves as a legitimate safety net. All conditional talent gates have both true and false states across roster templates.",
      "category": "dead_code",
      "confidence": 0.9,
      "evidence": [
        "Soul Carver talent gate: sc cluster excluded in Drop SC and Drop SC+Sigil templates",
        "Charred Flesh talent gate: brand cluster extended includes CF, excluded in No Brand templates",
        "Line 136 ungated Fracture: fires when spending up but SC/SBomb blocked -- very rare",
        "All 69 roster builds exercise different condition paths"
      ]
    }
  ],

  "hypotheses": [
    {
      "summary": "No state machine changes needed -- all three root theories were already implemented, rejected by prior testing, or invalidated by analysis",
      "implementation": "No APL change. Theory 1 (Meta hold) rejected: double burst value independent of Meta duration. Theory 2 (AR brand AoE reorder) already implemented: ImmAura precedes Soul Carver. Theory 3 (Anni FD SBomb) rejected: SBomb CD must be preserved for spending=3 Meteoric Fall.",
      "category": "state_machine",
      "priority": 0,
      "archetype": null,
      "aplMutation": null
    },
    {
      "summary": "MONITOR: SimC spirit_bomb cooldown initialization may be copy-paste bug",
      "implementation": "In sc_demon_hunter.cpp line 11615, cooldown.spirit_bomb is assigned to get_cooldown('demon_spikes'), which appears to be a copy-paste error. Mass Acceleration SBomb CD reset actually resets this shared object. If SimC fixes this, the Anni Meta interaction changes and APL may need revision.",
      "category": "simc_bug",
      "priority": 3.0,
      "archetype": null,
      "aplMutation": null
    },
    {
      "summary": "LOW PRIORITY: FD-aware FelDev at spending=3 may have marginal value",
      "implementation": "Adding fel_devastation,if=buff.voidfall_spending.stack=3&variable.fiery_demise_active before the current SBomb line would channel FelDev under FD fire amp while preserving spending=3 stacks for subsequent SBomb Meteoric Fall. However, the 2s channel delays the Meteoric Fall burst by ~2s, risking Brand expiry. Expected magnitude: 0.01-0.05%. Risk: may delay Meteoric Fall past Brand window.",
      "category": "window_efficiency",
      "priority": 2.0,
      "archetype": null,
      "aplMutation": {
        "op": "add_before",
        "target": "actions.anni_voidfall line 144",
        "line": "fel_devastation,if=buff.voidfall_spending.stack=3&variable.fiery_demise_active",
        "expected_magnitude": "0.01-0.05%",
        "risk": "May delay Meteoric Fall burst past Brand expiry"
      }
    }
  ]
}
